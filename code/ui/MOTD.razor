@using Sandbox.UI;
@using Sandbox;
@using System;
@using System.Collections.Generic;
@using System.Linq;

@namespace Sandbox

<root>
    @if (isMOTDVisible)
    {
	<WebPanel @ref="MyWebPanel"></WebPanel>

    <button @onclick="@Close">Close</button>
		}
</root>

<style>
	button {
	background-color: #ea00ff; /* Green */
	text-shadow: 2px 2px 2px black;
	top: 5.3%;
	left: 8.2%;
	border: none;
	height: 50px;
	color: white;
	padding: 15px 32px;
	text-align: center;
	text-decoration: none;
	display: inline-block;
	font-family: poppins;
	font-size: 16px;.
	cursor: grab;
	
	}
	.button:hover {
  		background-color: #9400a1; /* Green */
		box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);
		cursor: pointer;
}
	WebPanel {
		top: 10%;
		left: 95%;
		width: 720px;
		height: 720px;
		pointer-events: all;
	}
</style>

@code {
	public static bool isMOTDVisible = true;
	public void Close()
	{
		isMOTDVisible = false;
	}
	private WebPanel MyWebPanel { get; set; }

	protected override void OnAfterTreeRender(bool firstTime)
	{
		base.OnAfterTreeRender(firstTime);

		if (firstTime)
		{
			
			MyWebPanel.Surface.Url = "https://bigmark824.github.io/Marks-MOTD/";
            
		}
	}
	[ConCmd.Client( "motd" )]
	public static void motd()
	{
		isMOTDVisible = true;
		Log.Info("Okay!");
		// 23/08/2023
	}
	
}